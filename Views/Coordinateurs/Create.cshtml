@model PPE.Models.Coordinateur
@inject PPE.Data.AppDbContext _context

@{
    ViewData["Title"] = "New Coordinateur";
    ViewBag.Buttons = new List<ButtonModel> {
        new ButtonModel {
            Text = "Back to List",
            Action = "Index",
            Controller = "Coordinateurs",
            ButtonType = "primary"
        }
    };
    
    var projects = new SelectList(_context.Projects, "Id", "Title");
}

<div class="card">
    <div class="card-body">
        <form asp-action="Create">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="row">
                <div class="form-group col-12 col-md-6">
                    <label asp-for="Employee.ProjectId" class="control-label"></label>
                    <select
                        onchange="getEmployeeByProject()"
                        data-placeholder="-- Select a project --"
                        class="form-control select2 project-select"
                        asp-items="@(new SelectList(_context.Projects, "Id", "Title"))">
                        <option></option>
                    </select>
                </div>
                <div class="form-group col-12 col-md-6">
                    <label asp-for="EmployeeId" class="control-label"></label>
                    <select 
                        asp-for="EmployeeId" 
                        class="form-control select2 employee-select"></select>
                </div>
                <div class="col-md-12 placeholder"></div>
            </div>
            <div class="row mt-2">
                <div class="form-group col-12">
                    <input type="button" onclick="submitBtn()" value="Create" class="btn btn-primary" />
                </div>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
